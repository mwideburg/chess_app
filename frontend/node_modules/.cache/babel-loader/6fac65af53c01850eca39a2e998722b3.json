{"ast":null,"code":"import _defineProperty from \"/Users/ross/Desktop/MTA_tracker/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/ross/Desktop/MTA_tracker/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ross/Desktop/MTA_tracker/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ross/Desktop/MTA_tracker/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ross/Desktop/MTA_tracker/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ross/Desktop/MTA_tracker/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/ross/Desktop/MTA_tracker/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/ross/Desktop/MTA_tracker/frontend/src/components/session/login_form.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nvar LoginForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginForm, _React$Component);\n\n  function LoginForm(props) {\n    var _this;\n\n    _classCallCheck(this, LoginForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginForm).call(this, props));\n    _this.state = {\n      email: '',\n      password: '',\n      errors: {}\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.renderErrors = _this.renderErrors.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LoginForm, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.currentUser === true) {\n        this.props.history.push('/tweets');\n      }\n\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(field) {\n      var _this2 = this;\n\n      return function (e) {\n        return _this2.setState(_defineProperty({}, field, e.currentTarget.value));\n      };\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var user = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      this.props.login(user);\n    }\n  }, {\n    key: \"renderErrors\",\n    value: function renderErrors() {\n      var _this3 = this;\n\n      return React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, Object.keys(this.state.errors).map(function (error, i) {\n        return React.createElement(\"li\", {\n          key: \"error-\".concat(i),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, _this3.state.errors[error]);\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.email,\n        onChange: this.update('email'),\n        placeholder: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        value: this.state.password,\n        onChange: this.update('password'),\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), this.renderErrors())));\n    }\n  }]);\n\n  return LoginForm;\n}(React.Component);\n\nexport default withRouter(LoginForm);","map":{"version":3,"sources":["/Users/ross/Desktop/MTA_tracker/frontend/src/components/session/login_form.js"],"names":["React","withRouter","LoginForm","props","state","email","password","errors","handleSubmit","bind","renderErrors","nextProps","currentUser","history","push","setState","field","e","currentTarget","value","preventDefault","user","login","Object","keys","map","error","i","update","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;IAEMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXC,MAAAA,MAAM,EAAE;AAHG,KAAb;AAMA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,uDAApB;AAViB;AAWlB;;;;8CAEyBE,S,EAAW;AACnC,UAAIA,SAAS,CAACC,WAAV,KAA0B,IAA9B,EAAoC;AAClC,aAAKT,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACD;;AAED,WAAKC,QAAL,CAAc;AAACR,QAAAA,MAAM,EAAEI,SAAS,CAACJ;AAAnB,OAAd;AACD;;;2BAEMS,K,EAAO;AAAA;;AACZ,aAAO,UAAAC,CAAC;AAAA,eAAI,MAAI,CAACF,QAAL,qBACTC,KADS,EACDC,CAAC,CAACC,aAAF,CAAgBC,KADf,EAAJ;AAAA,OAAR;AAGD;;;iCAEYF,C,EAAG;AACdA,MAAAA,CAAC,CAACG,cAAF;AAEA,UAAIC,IAAI,GAAG;AACThB,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KADT;AAETC,QAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE;AAFZ,OAAX;AAKA,WAAKH,KAAL,CAAWmB,KAAX,CAAiBD,IAAjB;AACD;;;mCAEc;AAAA;;AACb,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGE,MAAM,CAACC,IAAP,CAAY,KAAKpB,KAAL,CAAWG,MAAvB,EAA+BkB,GAA/B,CAAmC,UAACC,KAAD,EAAQC,CAAR;AAAA,eAClC;AAAI,UAAA,GAAG,kBAAWA,CAAX,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,MAAI,CAACvB,KAAL,CAAWG,MAAX,CAAkBmB,KAAlB,CADH,CADkC;AAAA,OAAnC,CADH,CADF;AASD;;;6BAEQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,QAAQ,EAAE,KAAKlB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AACE,QAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWC,KADpB;AAEE,QAAA,QAAQ,EAAE,KAAKuB,MAAL,CAAY,OAAZ,CAFZ;AAGE,QAAA,WAAW,EAAC,OAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,EAQI;AAAO,QAAA,IAAI,EAAC,UAAZ;AACE,QAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWE,QADpB;AAEE,QAAA,QAAQ,EAAE,KAAKsB,MAAL,CAAY,UAAZ,CAFZ;AAGE,QAAA,WAAW,EAAC,UAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,EAcE;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdF,EAeG,KAAKlB,YAAL,EAfH,CADF,CADF,CADF;AAuBD;;;;EA3EqBV,KAAK,CAAC6B,S;;AA8E9B,eAAe5B,UAAU,CAACC,SAAD,CAAzB","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      password: '',\n      errors: {}\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.renderErrors = this.renderErrors.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currentUser === true) {\n      this.props.history.push('/tweets');\n    }\n\n    this.setState({errors: nextProps.errors})\n  }\n\n  update(field) {\n    return e => this.setState({\n      [field]: e.currentTarget.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    let user = {\n      email: this.state.email,\n      password: this.state.password\n    };\n\n    this.props.login(user); \n  }\n\n  renderErrors() {\n    return(\n      <ul>\n        {Object.keys(this.state.errors).map((error, i) => (\n          <li key={`error-${i}`}>\n            {this.state.errors[error]}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <div>\n            <br/>\n              <input type=\"text\"\n                value={this.state.email}\n                onChange={this.update('email')}\n                placeholder=\"Email\"\n              />\n            <br/>\n              <input type=\"password\"\n                value={this.state.password}\n                onChange={this.update('password')}\n                placeholder=\"Password\"\n              />\n            <br/>\n            <input type=\"submit\" value=\"Submit\" />\n            {this.renderErrors()}\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(LoginForm);"]},"metadata":{},"sourceType":"module"}